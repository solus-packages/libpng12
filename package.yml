name       : libpng12
version    : 1.2.57
release    : 101
source     :
    - https://pilotfiber.dl.sourceforge.net/project/libpng/libpng12/1.2.57/libpng-1.2.57.tar.xz : 0f4620e11fa283fedafb474427c8e96bf149511a1804bdc47350963ae5cf54d8
homepage   : http://www.libpng.org/pub/png/libpng.html
license    : Libpng
summary    : libpng12 (Binary Compatibility Library)
component  : binary.compat
builddeps  :
    - pkgconfig32(zlib)
description: |
    This package provides binary compatibility only. It is forbidden to build against it.
optimize   : speed
emul32     : yes
setup      : |
    %configure --disable-static --without-libpng-compat
build      : |
    %make
install    : |
    %make_install
    # Only ship libraries
    for i in /usr/bin /usr/share %libdir%/pkgconfig /usr/include; do
        rm -rfv "$installdir/$i"
    done
    # Forbid linking too
    rm $installdir/%libdir%/*.so
    # Skip any potential .la files
    rm -f $installdir/%libdir%/*.la || :
